{% extends "layout.html" %}
{% block content %}
<!-- Page content -->
<div class="hero-container">
    <div class="hero-body">
        <h1 data-typing-animation data-typing-duration="80" data-typing-delay="50">Rideal</h1>
        <span data-text-animate="blurInUp" data-text-animate-by="word" data-text-animate-delay="0.6" data-text-animate-duration="0.4" dir="rtl">רכישת אופניים חכמה</span>
        <div class="cta-buttons">
            <a href="{{ url_for('main.categories') }}" class="cta-button-primary">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
                חקור את האופניים שלנו
                
            </a>
        </div>
    </div>
    </div><!-- end hero -->

    <!-- Modern Vision Section -->
    <section class="vision-section-modern">
        <div class="vision-container">
            <!-- Header Section -->
            <div class="vision-header">
                <div class="vision-badge">החזון שלנו</div>
                <h2 class="vision-title">
                    מגדירים מחדש<br>
                    <span class="vision-title-gradient">איך מוצאים את הזוג המושלם</span>
                </h2>
                <p class="vision-description">
                    אנחנו מאמינים שלכל רוכב מגיעה הזדמנות למצוא את זוג האופניים המתאימים לו בצורה מושלמת בלי פשרות, בלי בלבול, ובלי שעות של חיפושים.<br>
                    ריידיל היא הפלטפורמה הראשונה בישראל שמאחדת את כל דגמי האופניים מכלל היבואנים, ומאפשרת בחירה חכמה בעזרת טכנולוגיה מתקדמת ומידע מדויק.<br>
                    החזון שלנו הוא להפוך את תהליך בחירת האופניים לחוויה פשוטה, שקופה ומהנה כדי שנוכל להתמקד בדבר האמיתי: הרכיבה.
                </p>

                <!-- Hero Banner Image -->
                <div class="hero-banner">
                    <div class="hero-banner-container">
                        <!-- Fallback image for production -->
                        <img src="{{ url_for('static', filename='images/blog/electric_bike_alps_man_riding.jpg') }}?v={{ config.VERSION if config.VERSION else '1.0' }}" 
                             alt="Electric bike in alps" 
                             class="hero-banner-fallback-image">
                        <div class="hero-banner-overlay"></div>
                        <div class="hero-banner-content">
                            <h3 class="hero-banner-title">טכנולוגיה חדשה נפגשת עם הטבע </h3>
                            <p class="hero-banner-subtitle">חווה את העתיד של מציאת האופניים המושלמים</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stats Section -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">{{ bikes_count }}</div>
                    <div class="stat-label">דגמי אופניים</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ total_comparisons|format_number }}+</div>
                    <div class="stat-label">השוואות בוצעו</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ sources_count }}</div>
                    <div class="stat-label">יבואנים</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ brand_count }}</div>
                    <div class="stat-label">מותגים</div>
                </div>
            </div>

            <!-- Vision Cards Grid -->
            <div class="vision-cards-grid">
                <div class="vision-card" data-animation="slide-right">
                    <div class="vision-card-content" style="text-align: center;">
                        <div class="vision-card-icon">
                            <i class="bi bi-search"></i>
                        </div>
                        <h3 class="vision-card-title">מסננים וממיינים</h3>
                        <p class="vision-card-description">
                            חסכנו לכם את הסיבוב בכל החנויות. באתר שלנו תמצאו את כל הדגמים בישראל במקום אחד.
                            לא צריך לשבור את הראש, פשוט מסננים לפי מה שבאמת חשוב לכם: קטגוריה, שימוש, מחיר, שנת ייצור, גודל סוללה, מותג ועוד.
                            לחיצה אחת, וכל ההתלבטויות נשארות מאחור.                          
                        </p>
                    </div>
                </div>
                   
                <div class="vision-card" data-animation="slide-left">
                    <div class="vision-card-content">
                        <div class="vision-card-icon">
                            <i class="bi bi-bar-chart-line"></i>
                        </div>
                        <h3 class="vision-card-title">השוואה והמלצה</h3>
                        <p class="vision-card-description">
                            מצאתם כמה דגמים שמדליקים אתכם? אחלה. עכשיו תנו לנו לעבוד.
                            מערכת ההשוואה שלנו תסדר לכם טבלה ברורה שתראה בדיוק מה ההבדלים, בתוספת ניתוח חכם במיוחד (כן, עם בינה מלאכותית) בשפה פשוטה ומדויקת.
                            מי מתאים למי, איזה דגם שווה כל שקל ואיפה תקבלו את הכי הרבה תמורה על הפדלים שלכם.
                        </p>
                    </div>
                </div>
                
                <div class="vision-card" data-animation="slide-right">
                    <div class="vision-card-content" style="text-align: center;">
                        <div class="vision-card-icon">
                            <i class="bi bi-cart-check"></i>
                        </div>
                        <h3 class="vision-card-title">רכישה</h3>
                        <p class="vision-card-description">
                            נדלקתם על דגם? יאללה, קחו אותו לסיבוב קבוע.
                            לחיצה אחת ואתם עוברים ישר לאתר היבואן. בלי עמלות, בלי שטיקים, בלי אותיות קטנות.
                            מצאתם את האופניים שלכם? מעכשיו הדרך לשביל היא רק עניין של מסגרת אשראי וקסדה.</p>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Call to Action -->
            <div class="vision-cta">
                <div class="cta-container">
                    <h3 class="cta-title">מוכן לחוות את העתיד?</h3>
                    <p class="cta-description">
                        הצטרף לאלפי רוכבים שכבר גילו את האבולוציה הבאה במציאת האופניים המושלמים.
                    </p>
                    <div class="cta-buttons">
                        <a href="{{ url_for('main.categories') }}" class="cta-button-primary">
                            חקור את האופניים שלנו
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </a>
                        <a href="#" class="cta-button-secondary" id="testRideBtn">הזמן נסיעת מבחן</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- The popular Section -->
    <div class="w3-black" id="top_bikes">
        <div class="w3-container w3-content w3-padding-64" style="max-width:1200px">
            <h2 class="w3-wide w3-center popular">הפופולריים ביותר</h2>
            <p class="w3-opacity w3-center"><i>האופניים שרוכבים השוו הכי הרבה</i></p>
            <div class="carousel-container">
                <button class="carousel-button carousel-button-prev" onclick="moveCarousel(-1)">
                    <i class="bi bi-chevron-left"></i>
                </button>
                
                <div class="carousel-track">
                    {% for bike in top_bikes[:10] %}
                    <div class="carousel-item">
                        <div class="card-img-container">
                            <img src="{{ bike['image_url'] }}" class="card-img-top" alt="{{ bike['model'] }}" referrerpolicy="no-referrer">
                        </div>
                        <div class="w3-container bike-card" style="display: flex; flex-direction: column; align-items: center;">
                            <h5 class="card-firm"><b>{{ bike['firm'] }}</b></h5>
                            <p class="model-text">{{ bike['model'] }}</p>
                            <p class="price">
                                {% if bike['price'] | format_number == 'צור קשר' %}
                                    {{ bike['price'] | format_number }}
                                {% else %}
                                    ₪{{ bike['price'] | format_number }}
                                {% endif %}
                            </p>
                            <a href="{{ bike['product_url'] }}" target="_blank" class="btn btn-primary mb-3">לרכישה</a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                
                <button class="carousel-button carousel-button-next" onclick="moveCarousel(1)">
                    <i class="bi bi-chevron-right"></i>
                </button>
            </div>
            
            <div class="carousel-dots">
                {% for bike in top_bikes[:10] %}
                <span class="carousel-dot" data-slide="{{ loop.index0 }}"></span>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- The Contact Section -->
    <div class="w3-container w3-content w3-padding-64" style="max-width:800px" id="contact">
        <h2 class="w3-wide w3-center">צור קשר</h2>
        <p dir="rtl" class="w3-opacity w3-center"><i>רעיונות לפיתוח? שאלות? בקשות? דברו איתנו!</i></p>
        <div class="w3-row w3-padding-32">
            <div dir="rtl" class="w3-col m6">
                <form id="contactForm" action="/contact" method="POST" target="_blank">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                    <div class="w3-row-padding" style="margin:0 -16px 8px -16px">
                        <div class="w3-half" style="margin-bottom: 8px;">
                            <input class="w3-input w3-border" type="text" placeholder="שם" required name="Name">
                        </div>
                        <div class="w3-half">
                            <input class="w3-input w3-border" type="text" placeholder="מייל" required name="Email">
                        </div>
                    </div>
                    <input class="w3-input w3-border" type="text" placeholder="הודעה" required name="Message">
                    <div class="w3-center">
                        <button class="w3-button w3-black w3-section" type="submit">שלח</button>
                    </div>
                </form>
            </div>
            <div dir="rtl" class="w3-col m6 w3-large w3-margin-bottom">
                <i class="bi bi-pin" style="width:30px"></i> - כרם מהר"ל<br>
                <i class="bi bi-telephone-outbound" style="width:30px"> - 052-5521657</i><br>
                <i class="bi bi-envelope" style="width:30px"> </i> - rideal.bikes@gmail.com<br>
            </div>
        </div>
    </div>

    <!-- Test Ride Modal -->
    <div id="testRideModal" class="test-ride-modal">
        <div class="test-ride-modal-content">
            <div class="test-ride-modal-header">
                <h2 class="test-ride-modal-title">הזמן נסיעת מבחן</h2>
                <span class="test-ride-modal-close">&times;</span>
            </div>
            <p class="test-ride-modal-subtitle">מלא את הפרטים ונחזור אליך בהקדם</p>
            
            <form id="testRideForm" action="/contact" method="POST" target="_blank">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                <input type="hidden" name="form_type" value="test_ride"/>
                
                <div class="test-ride-form-group">
                    <input type="text" id="testRideName" name="Name" class="test-ride-input" placeholder="הכנס את שמך המלא" required>
                </div>
                
                <div class="test-ride-form-group">
                    <input type="tel" id="testRidePhone" name="Phone" class="test-ride-input" placeholder="050-1234567" required>
                </div>
                
                <div class="test-ride-form-group">
                    <input type="text" id="testRideModel" name="Model" class="test-ride-input" placeholder="שם הדגם שמעניין אותך" required>
                </div>
                
                <div class="test-ride-form-actions">
                    <button type="submit" class="test-ride-submit-btn">שלח בקשה</button>
                </div>
            </form>
        </div>
    </div>

    <!-- End Page Content -->
    <script src="{{ url_for('static', filename='js/carousel.js') }}"></script>
    <script src="{{ url_for('static', filename='js/scroll-animations.js') }}"></script>
    <script src="{{ url_for('static', filename='js/test-ride-modal.js') }}"></script>

    <style>
    /* Test Ride Modal Styles */
    .test-ride-modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
        animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes slideDown {
        from {
            transform: translateY(-50px);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    .test-ride-modal-content {
        background: linear-gradient(135deg, #ffffff 0%, #f8f8f8 100%);
        margin: 5% auto;
        padding: 0;
        border: none;
        border-radius: 16px;
        width: 90%;
        max-width: 500px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: slideDown 0.4s ease;
        overflow: hidden;
    }

    .test-ride-modal-header {
        background: linear-gradient(135deg, #dc143c 0%, #a00000 100%);
        color: white;
        padding: 30px;
        position: relative;
        text-align: center;
    }

    .test-ride-modal-title {
        margin: 0;
        font-size: 28px;
        font-weight: 700;
        letter-spacing: -0.5px;
    }

    .test-ride-modal-close {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        color: white;
        font-size: 32px;
        font-weight: 300;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
    }

    .test-ride-modal-close:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-50%) rotate(90deg);
    }

    .test-ride-modal-subtitle {
        text-align: center;
        color: #666;
        margin: 25px 0 30px 0;
        font-size: 16px;
        padding: 0 30px;
    }

    #testRideForm {
        padding: 0 30px 30px 30px;
    }

    .test-ride-form-group {
        margin-bottom: 24px;
    }

    .test-ride-form-group label {
        display: block;
        text-align: right;
        margin-bottom: 8px;
        color: #1a1a1a;
        font-weight: 600;
        font-size: 14px;
    }

    .test-ride-input {
        width: 100%;
        padding: 14px 16px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 16px;
        transition: all 0.3s ease;
        background: white;
        box-sizing: border-box;
        direction: rtl;
        text-align: right;
    }

    .test-ride-input:focus {
        outline: none;
        border-color: #dc143c;
        box-shadow: 0 0 0 3px rgba(220, 20, 60, 0.1);
    }

    .test-ride-input::placeholder {
        color: #999;
    }

    .test-ride-form-actions {
        display: flex;
        gap: 12px;
        margin-top: 30px;
    }

    .test-ride-submit-btn,
    .test-ride-cancel-btn {
        flex: 1;
        padding: 14px 24px;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
    }

    .test-ride-submit-btn {
        background: linear-gradient(135deg, #dc143c 0%, #a00000 100%);
        color: white;
        box-shadow: 0 4px 12px rgba(220, 20, 60, 0.3);
    }

    .test-ride-submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(220, 20, 60, 0.4);
    }

    .test-ride-submit-btn:active {
        transform: translateY(0);
    }

    .test-ride-cancel-btn {
        background: white;
        color: #333;
        border: 2px solid #e0e0e0;
    }

    .test-ride-cancel-btn:hover {
        background: #f5f5f5;
        border-color: #999;
    }

    /* Responsive Design */
    @media (max-width: 600px) {
        .test-ride-modal-content {
            margin: 10% auto;
            width: 95%;
        }

        .test-ride-modal-header {
            padding: 25px 20px;
        }

        .test-ride-modal-title {
            font-size: 24px;
        }

        #testRideForm {
            padding: 0 20px 20px 20px;
        }

        .test-ride-form-actions {
            flex-direction: column;
        }

        .test-ride-submit-btn,
        .test-ride-cancel-btn {
            width: 100%;
        }
    }
    </style>

{% endblock %}