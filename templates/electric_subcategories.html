{% extends "layout.html" %}
{% block content %}

<!-- Prefetch bikes pages for faster navigation -->
{% for subcategory in subcategories %}
    <link rel="prefetch" href="{{ url_for('bikes.bikes') }}?category=electric&sub_category={{ subcategory.slug }}">
{% endfor %}

<link rel="stylesheet" href="{{ url_for('static', filename='styles/mtb-subcategories.css') }}">

<!-- Subcategories Container -->
<div class="mtb-container">
    <div class="mtb-grid">
        {% for subcategory in subcategories %}
        <a href="{{ url_for('bikes.bikes') }}?category=electric&sub_category={{ subcategory.slug }}" 
           class="mtb-card"
           aria-label="{{ subcategory.name }}">
            <div class="mtb-card-inner">
                <h2 class="mtb-card-title">{{ subcategory.name }}</h2>
                <div class="mtb-card-image-circle">
                    <img src="{{ url_for('static', filename=subcategory.image) }}?v={{ config.VERSION if config.VERSION else '1.0' }}" 
                         alt="{{ subcategory.name }}"
                         class="mtb-card-image"
                         loading="lazy">
                </div>
                <p class="mtb-card-description">{{ subcategory.description }}</p>
                <span class="mtb-card-count">{{ subcategory.count }} דגמים</span>
            </div>
        </a>
        {% endfor %}
    </div>
    
    <!-- Back button -->
    <div class="mtb-back">
        <a href="{{ url_for('main.categories') }}" class="back-button">
            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            חזרה לקטגוריות
        </a>
    </div>
</div>

{% endblock %}

